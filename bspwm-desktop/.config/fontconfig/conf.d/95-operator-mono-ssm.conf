<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <its:rules xmlns:its="http://www.w3.org/2005/11/its" version="1.0">
    <its:translateRule translate="no" selector="/fontconfig/*[not(self::description)]"/>
  </its:rules>

  <description>Fix Operator Mono SSm</description>

	<!--
		Set Operator Mono SSm as a monospace font
	-->

  <alias>
    <family>Operator Mono SSm</family>
    <default><family>monospace</family></default>
  </alias>

	<!--
		Prepend book weight so fontconfig will pick something instead of bold.
	-->

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<edit name="weight" mode="append">
			<const>book</const>
		</edit>
  </match>

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="eq">
			<const>regular</const>
		</test>
		<edit name="weight" mode="assign">
			<int>53</int>
		</edit>
  </match>

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="eq">
			<const>book</const>
		</test>
		<edit name="weight" mode="assign">
			<int>53</int>
		</edit>
  </match>

	<!--
		Override the prepended book weight when medium is matched with assign_replace
	-->

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="eq">
			<const>medium</const>
		</test>
		<edit name="weight" mode="assign_replace">
			<int>60</int>
		</edit>
  </match>

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="eq">
			<const>bold</const>
		</test>
		<edit name="weight" mode="assign">
			<int>80</int>
		</edit>
  </match>

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="more_eq">
			<int>180</int>
		</test>
		<edit name="weight" mode="assign">
			<int>80</int>
		</edit>
  </match>

	<match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="more_eq">
			<int>100</int>
		</test>
		<edit name="weight" mode="assign_replace">
			<int>60</int>
		</edit>
  </match>

	<!-- <match target="pattern">
		<test name="family" compare="eq">
			<string>Operator Mono SSm</string>
		</test>
		<test name="weight" compare="more_eq">
			<int>75</int>
		</test>
		<edit name="weight" mode="assign">
			<int>53</int>
		</edit>
  </match> -->

</fontconfig>
